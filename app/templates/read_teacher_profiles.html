{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h1>Teacher List</h1>

    <!-- Filter Links -->
    <div class="mb-3">
        <a href="{{ url_for('read_teacher_profiles') }}" class="btn btn-primary me-2">Find All</a>
        <a href="#" class="btn btn-outline-secondary me-2" onclick="showFilter('teacher_id')">Find by Teacher ID</a>
        <a href="#" class="btn btn-outline-secondary me-2" onclick="showFilter('first_name')">Find by First Name</a>
        <a href="#" class="btn btn-outline-secondary me-2" onclick="showFilter('last_name')">Find by Last Name</a>
        <a href="#" class="btn btn-outline-secondary me-2" onclick="showFilter('employment_status')">Find by Employment Status</a>
        <a href="#" class="btn btn-outline-secondary me-2" onclick="showFilter('teacher_role')">Find by Teacher Role</a>
        <a href="#" class="btn btn-outline-secondary me-2" onclick="showFilter('profile_status')">Find by Profile Status</a>
    </div>

    <!-- Filter Input Form -->
    <form method="get" action="{{ url_for('read_teacher_profiles') }}" id="filterForm" class="mb-5" style="height: auto; visibility: hidden;">
        <input type="hidden" name="filter_column" id="filterColumn">
        <div class="input-group mb-4">
            <input type="text" class="form-control" name="filter_value" placeholder="Enter value..." id="filterInput">
            <button type="submit" class="btn btn-secondary">Search</button>
        </div>
    </form>

    <!-- Spacer between filter and table -->
    <div class="mb-5"></div>

    <!-- Table Display -->
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Teacher ID</th>
                <th>First Name</th>
                <th>Middle Name</th>
                <th>Last Name</th>
                <th>Birth Date</th>
                <th>Phone Number</th>
                <th>Email Address</th>
                <th>Home Address</th>
                <th>Subject Expertise</th>
                <th>Employment Status</th>
                <th>Teacher Role</th>
                <th>Profile Status</th>
            </tr>
        </thead>
        <tbody>
            {% for teacher in teachers %}
                <tr>
                    <td>{{ teacher['teacher_id'] }}</td>
                    <td>{{ teacher['first_name'] }}</td>
                    <td>{{ teacher['middle_name'] }}</td>
                    <td>{{ teacher['last_name'] }}</td>
                    <td>{{ teacher['birth_date'] }}</td>
                    <td>{{ teacher['phone_number'] }}</td>
                    <td>{{ teacher['email_address'] }}</td>
                    <td>{{ teacher['home_address'] }}</td>
                    <td>{{ teacher['subject_expertise'] }}</td>
                    <td>{{ teacher['employment_status'] }}</td>
                    <td>{{ teacher['teacher_role'] }}</td>
                    <td>{{ teacher['profile_status'] }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- JavaScript for showing/hiding the filter form -->
<script>
    function showFilter(column) {
        const form = document.getElementById('filterForm');
        form.style.visibility = 'visible';
        document.getElementById('filterColumn').value = column;
        document.getElementById('filterInput').placeholder = 'Enter ' + column.replace('_', ' ') + '...';
        document.getElementById('filterInput').focus();
    }
</script>
{% endblock %}