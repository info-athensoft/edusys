{% extends "base.html" %}
{% block title %}Create Course Profile{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 40px auto; padding: 20px;">
    <h2 style="text-align: center; color: #007BFF;">Add a New Course</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div style="margin-bottom: 15px;">
          {% for category, message in messages %}
            <div style="color: {% if category == 'warning' %}red{% else %}green{% endif %};">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form action="{{ url_for('course_profile_created') }}" method="post" style="display: flex; flex-direction: column; gap: 15px;">

        <label>Course Name*:
            <input type="text" name="course_name" value="{{ form_data.course_name if form_data else '' }}" required style="width: 100%;">
        </label>

        <label>Course Code*:
            <input type="text" name="course_code" value="{{ form_data.course_code if form_data else '' }}" required style="width: 100%;">
        </label>

        <label>Course Description:
            <textarea name="course_desc" rows="3" style="width: 100%;">{{ form_data.course_desc if form_data else '' }}</textarea>
        </label>

        <label>Target Audience:
            <select name="target_audience" required style="width: 100%;">
                <option value="" disabled selected>Select an audience</option>
                <option value="General Audience" {% if form_data and form_data.target_audience == "General Audience" %}selected{% endif %}>General Audience</option>
                <option value="Youth" {% if form_data and form_data.target_audience == "Youth" %}selected{% endif %}>Youth</option>
                <option value="Adult" {% if form_data and form_data.target_audience == "Adult" %}selected{% endif %}>Adult</option>
            </select>
        </label>

        <label>Duration in Weeks:
            <input type="number" name="duration_in_weeks" value="{{ form_data.duration_in_weeks if form_data else '' }}" style="width: 100%;">
        </label>

        <label>Prerequisite Course(s):
            <input type="text" name="prerequisites" value="{{ form_data.prerequisites if form_data else '' }}" style="width: 100%;">
        </label>

        <label>Corequisite Course(s):
            <input type="text" name="corequisites" value="{{ form_data.corequisites if form_data else '' }}" style="width: 100%;">
        </label>

        <label>Number of Credits:
            <input type="number" step="0.1" name="credit_hours" value="{{ form_data.credit_hours if form_data else '' }}" style="width: 100%;">
        </label>

        <label>Profile Status:
            <select name="profile_status" required style="width: 100%;">
                <option value="" disabled selected>Select status</option>
                <option value="Inactive" {% if form_data and form_data.profile_status == "Inactive" %}selected{% endif %}>Inactive</option>
                <option value="Active" {% if form_data and form_data.profile_status == "Active" %}selected{% endif %}>Active</option>
            </select>
        </label>

        <button type="submit" style="background-color: #007BFF; color: white; padding: 10px; border: none; border-radius: 5px;">
            Add Course
        </button>
    </form>
</div>
{% endblock %}